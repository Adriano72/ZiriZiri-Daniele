<Alloy>

	<Collection src = "events"/>
	<Window id="win" class="container" title = "Diario" onOpen="showSpinner" onScroll="lazyload">

		<!-- The Menu tag adds the Android menu. -->
		<Menu id="menu" platform="android">

			<!-- Cannot specify node text.  Use attributes only. -->
			<MenuItem id="scrivi" title="Scrivi" icon="/images/compose.png"  onClick="createNewPost" showAsAction="Ti.Android.SHOW_AS_ACTION_IF_ROOM" />
			<MenuItem id="immagine" title="Immagine" icon="/images/refresh-1.png" onClick="refreshTable" showAsAction="Ti.Android.SHOW_AS_ACTION_IF_ROOM" />
			<!--<MenuItem id="Foto" title="Foto" icon="/images/86-camera.png"  showAsAction="Ti.Android.SHOW_AS_ACTION_IF_ROOM" />-->
		</Menu>
		<TableView id = "timelineTable" dataCollection = "events" >

			<TableViewRow onClick = "mostraDettaglioEvento">

				<View id="eventContainer">

					<View id="topWrapper">

						<ImageView id="postIcon"></ImageView>
						<View id="headerWrapper">
							<View id="nameDateWrapper">
								<Label id = "name" text ="{name}"/>
								<Label id = "date" text ="{date}"/>
							</View>
							<Label id = "category" text ="{category}"/>
							<Label id = "location" text ="{location}"/>

						</View>

					</View>
					<View id="bottomWrapper">

						<Label id = "aspects" text="{aspects}"/>

					</View>
				</View>

				<!--<Label id = "rowIcon"/>-->

			</TableViewRow>
		</TableView>

	</Window>

</Alloy>